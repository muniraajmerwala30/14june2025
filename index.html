       <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Document</title>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        </head>
        <body>
            <div class="container-fluid">
                <div class="row mt-5">
                    <div class="col-6 offset-3">
                        <form >
                           <input autofocus type="text" name="car_name" class="form-control form control-lg mb-4" placeholder="Enter your Car name"/>
                           <div class="d-grid">
                           <input type="submit" value="Save" class="btn btn-primary btn-lg" onclick="sendData(event)">
                            </div>
                         </form >
                <div class="row mt-5">
                    <div class="col-8 offset-2">
                        <table class="table table-success" id="mytable">
                            <thead>
                                <tr class="table-success">
                                    <th>carname</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                                
                                
                            </tbody>
                            <tfoot></tfoot>
                        </table>

                    </div>
                    
                </div>
            
            </div>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
           
            <script>
                    //Global variable
                    let base_url = 'http://localhost:1337';
                    //let ceo1 = new ClassName();
                    var xhttp = new XMLHttpRequest();
                   
                     function sendData(e){ // e is actual argument
                    //object.method
                     e.preventDefault();// to stop page reloading
                     //element we are targeting
                     //Traversing up
                     console.log(e.target.closest('form'));
                     // I want to access form data here
                     //Traversing Down
                    console.log(e.target.closest('form').querySelector('input:first-child').value);
                    var car_name = e.target.closest('form').querySelector('input:first-child').value;
                       
                        // How you can access class method
                        //object.method(method,url,async,user,psw);
                        
                           xhttp.open("POST",`${base_url}/api/cars`,true);
                   
                          xhttp.onreadystatechange = function() {
                          if (this.readyState == 4 && this.status == 201) {
                               alert("car saved successfully");
                                

                             }
                        };

                        

                         
                         //object.member
                         //object.property
                         //object.method(aa1,aa2)
                         //Set Headers

                         xhttp.setRequestHeader("Content-type","application/json");
                         xhttp.setRequestHeader("Accept","application/json");


                        //let prepare payload
                    /*
                    {
                        "data": {
                            "name": "Tata Nexon"
                            
                        }
                    } 
                

                    */
                   /*
                    classA {
                        //1.Property

                        //2.Constructor

                        //3.Method
                    }




                        
                   */
                        let jsobject = {
                                        "data": {
                                            "car_name":car_name
                                    
                                             }
                                        };
                                             console.log(jsobject);

                        
                        
                        
                        // How you can access class method
                        //object.method(method,url,async,user,psw);
                        

                         
                         
                         let json = JSON.stringify(jsobject);
                        
                        //call the api
                        xhttp.send(json);


                    
                     };
            </script>
            <script>
                // read operation with AJAX i.e XMLHttpRequest Class
                //IIFE
                // can I access xhr object here
                //xHttpsetRequestHeader()
                xhttp.open('GET',`${base_url}/api/cars`,true);
                //CBFN
                 
                   
                xhttp.onreadystatechange = function(){
                    if (this.readyState == 4 && this.status == 200){
                        console.log(this.responseText);
                        console.log(JSON.parse(this.responseText));
                        var json = JSON.parse(this.responseText);
                        console.log(json.data);                  
                             

                     // I want to loop over array of objects
                     //[]
                     var tbody=document.getElementById('mytable').querySelector('tbody');
                     console.log(tbody);
                     tbody.innerHTML = '';

                     for(variable of json.data){
                        //code block to be executed
                        console.log(variable.car_name);
                        tbody.innerHTML += `
                        <tr class="table-success">
                                    <td>
                                        ${variable.car_name}

                                    </td>
                                    <td>
                                        <button class="btn btn-sm btn btn-success">View</button>
                                        <button class="btn btn-sm btn btn-info">Edit</button>
                                        <button class="btn btn-sm btn btn-danger" onclick="deleteElement()">Delete</button>
                                    </td>
                                </tr>
                                `;
                             }

                    }
                    //To get data

                    //server status code should be 200
                    //xHttp.readyStatus should be 4
                }
                xhttp.send();
                (()=>{
                    console.log('ok');
                })();
            </script>
        </body>
        </html>